class LocaleHelper {
  static const Map<String, Map<String, String>> _translations = {
    'en': {
      'nutrition': 'Nutrition',
      'add_food': 'Add Food',
      'search': 'Search',
      'portion_g': 'Portion (g)',
      'protein': 'Protein',
      'carbs': 'Carbs',
      'fat': 'Fat',
      'sodium': 'Sodium',
      'potassium': 'Potassium',
      'apply': 'Apply',
      'cancel': 'Cancel',
      'suggestions': 'Suggestions',
      'regional_foods': 'Regional Foods',
      'auto_fill_ai': 'Auto-fill (AI)',
      'from_catalog': 'From Catalog',
      'kcal': 'kcal',
      'grams': 'g',
      'mg': 'mg',
      'total': 'Total',
      'breakfast': 'Breakfast',
      'lunch': 'Lunch',
      'dinner': 'Dinner',
      'snacks': 'Snacks',
      'daily_summary': 'Daily Summary',
      'daily_totals': 'Daily Totals',
      'macro_breakdown': 'Macro Breakdown',
      'calories': 'Calories',
      'protein_goal': 'Protein Goal',
      'carbs_goal': 'Carbs Goal',
      'fat_goal': 'Fat Goal',
      'remaining': 'Remaining',
      'over': 'Over',
      'under': 'Under',
      'goal': 'Goal',
      'actual': 'Actual',
      'percentage': 'Percentage',
      'sodium_warning': 'High Sodium',
      'potassium_warning': 'Low Potassium',
      'high_sodium': 'High Sodium',
      'low_sodium': 'Low Sodium',
      'high_potassium': 'High Potassium',
      'low_potassium': 'Low Potassium',
      'no_results': 'No results found',
      'search_foods': 'Search foods...',
      'custom_portion': 'Custom Portion',
      'select_language': 'Select Language',
      'meal_name': 'Meal Name',
      'food_item': 'Food Item',
      'created': 'Created',
      'no_meals_in_plan': 'No meals in plan',
      'daily': 'Daily',
      'weekly': 'Weekly',
      'program': 'Program',
      'unknown': 'Unknown',
      'no_nutrition_plan': 'No Nutrition Plan',
      'coach_will_create_plan': 'Your coach will create a nutrition plan for you',
      'no_plans_found': 'No nutrition plans found',
      'insights': 'Insights',
      'macros': 'Macros',
      'prices': 'Prices',
      'support_diagnostics': 'Support diagnostics',
      'currency': 'Currency',
      'key': 'Key',
      'cost_per_unit': 'Cost per unit',
      'export_pdf': 'Export PDF',
      'undo': 'Undo',
      'supplements': 'Supplements',
      'add_supplement': 'Add supplement',
      'dosage': 'Dosage',
      'save': 'Save',
      'delete': 'Delete',
      'edit': 'Edit',
      'name': 'Name',
      'notes': 'Notes',
    'save_as_leftover': 'Save as leftover',
    'save_as_leftover_desc': 'Move the remaining amount to Pantry?',
    'leftover_saved': 'Leftover saved to Pantry',
    },
    'ar': {
      'nutrition': 'التغذية',
      'add_food': 'إضافة طعام',
      'search': 'بحث',
      'portion_g': 'الكمية (جرام)',
      'protein': 'بروتين',
      'carbs': 'كربوهيدرات',
      'fat': 'دهون',
      'sodium': 'صوديوم',
      'potassium': 'بوتاسيوم',
      'apply': 'تطبيق',
      'cancel': 'إلغاء',
      'suggestions': 'اقتراحات',
      'regional_foods': 'أطعمة محلية',
      'auto_fill_ai': 'ملء تلقائي (ذكاء اصطناعي)',
      'from_catalog': 'من الكتالوج',
      'kcal': 'سعرة حرارية',
      'grams': 'جرام',
      'mg': 'ملجم',
      'total': 'المجموع',
      'breakfast': 'الإفطار',
      'lunch': 'الغداء',
      'dinner': 'العشاء',
      'snacks': 'وجبات خفيفة',
      'daily_summary': 'ملخص اليوم',
      'daily_totals': 'إجماليات اليوم',
      'macro_breakdown': 'تفصيل المغذيات',
      'calories': 'السعرات الحرارية',
      'protein_goal': 'هدف البروتين',
      'carbs_goal': 'هدف الكربوهيدرات',
      'fat_goal': 'هدف الدهون',
      'remaining': 'متبقي',
      'over': 'أكثر من',
      'under': 'أقل من',
      'goal': 'الهدف',
      'actual': 'الفعلي',
      'percentage': 'النسبة المئوية',
      'sodium_warning': 'صوديوم عالي',
      'potassium_warning': 'بوتاسيوم منخفض',
      'high_sodium': 'صوديوم عالي',
      'low_sodium': 'صوديوم منخفض',
      'high_potassium': 'بوتاسيوم عالي',
      'low_potassium': 'بوتاسيوم منخفض',
      'no_results': 'لا توجد نتائج',
      'search_foods': 'البحث عن أطعمة...',
      'custom_portion': 'كمية مخصصة',
      'select_language': 'اختر اللغة',
      'meal_name': 'اسم الوجبة',
      'food_item': 'عنصر الطعام',
      'created': 'تم الإنشاء',
      'no_meals_in_plan': 'لا توجد وجبات في الخطة',
      'daily': 'يومي',
      'weekly': 'أسبوعي',
      'program': 'برنامج',
      'unknown': 'غير معروف',
      'no_nutrition_plan': 'لا يوجد خطة تغذية',
      'coach_will_create_plan': 'سيقوم مدربك بإنشاء خطة تغذية لك',
      'no_plans_found': 'لم يتم العثور على خطوط تغذية',
      'insights': 'الرؤى',
      'macros': 'المغذيات الكبرى',
      'prices': 'الأسعار',
      'support_diagnostics': 'تشخيص الدعم',
      'currency': 'العملة',
      'key': 'المفتاح',
      'cost_per_unit': 'التكلفة لكل وحدة',
      'export_pdf': 'تصدير PDF',
      'undo': 'تراجع',
      'supplements': 'المكملات',
      'add_supplement': 'إضافة مكمل',
      'dosage': 'الجرعة',
      'save': 'حفظ',
      'delete': 'حذف',
      'edit': 'تعديل',
      'name': 'الاسم',
      'notes': 'ملاحظات',
      'save_as_leftover': 'حفظ كمتبقي',
      'save_as_leftover_desc': 'نقل الكمية المتبقية إلى المخزن؟',
      'leftover_saved': 'تم حفظ المتبقي في المخزن',
    },
    'ku': {
      'nutrition': 'خۆراک',
      'add_food': 'خۆراک زیاد بکە',
      'search': 'گەڕان',
      'portion_g': 'بەش (گرام)',
      'protein': 'پرۆتین',
      'carbs': 'کاربۆهیدرات',
      'fat': 'چەوری',
      'sodium': 'سۆدیۆم',
      'potassium': 'پۆتاسیۆم',
      'apply': 'جێبەجێ بکە',
      'cancel': 'هەڵوەشاندنەوە',
      'suggestions': 'پێشنیارەکان',
      'regional_foods': 'خۆراکی ناوچەیی',
      'auto_fill_ai': 'خۆکار پڕکردنەوە (هوشی دەستکرد)',
      'from_catalog': 'لە کاتەلۆگ',
      'kcal': 'کالۆری',
      'grams': 'گرام',
      'mg': 'میلگرام',
      'total': 'کۆی گشتی',
      'breakfast': 'بەیانی',
      'lunch': 'نیوەڕۆ',
      'dinner': 'شەم',
      'snacks': 'خۆراکی بچووک',
      'daily_summary': 'کورتەی ڕۆژانە',
      'daily_totals': 'کۆی ڕۆژانە',
      'macro_breakdown': 'دابەشکردنی ماکرۆ',
      'calories': 'کالۆری',
      'protein_goal': 'ئامانجی پرۆتین',
      'carbs_goal': 'ئامانجی کاربۆهیدرات',
      'fat_goal': 'ئامانجی چەوری',
      'remaining': 'ماوە',
      'over': 'زیاتر لە',
      'under': 'کەمتر لە',
      'goal': 'ئامانج',
      'actual': 'ڕاستەقینە',
      'percentage': 'لە سەد',
      'sodium_warning': 'سۆدیۆمی بەرز',
      'potassium_warning': 'پۆتاسیۆمی نزم',
      'high_sodium': 'سۆدیۆمی بەرز',
      'low_sodium': 'سۆدیۆمی نزم',
      'high_potassium': 'پۆتاسیۆمی بەرز',
      'low_potassium': 'پۆتاسیۆمی نزم',
      'no_results': 'هیچ ئەنجامێک نەدۆزرایەوە',
      'search_foods': 'گەڕان بۆ خۆراک...',
      'custom_portion': 'بەشی تایبەت',
      'select_language': 'زمان هەڵبژێرە',
      'meal_name': 'ناوی خۆراک',
      'food_item': 'بەشی خۆراک',
      'created': 'دروستکراو',
      'no_meals_in_plan': 'هیچ خۆراکێک لە پلاندا نییە',
      'daily': 'ڕۆژانە',
      'weekly': 'هەفتانە',
      'program': 'پرۆگرام',
      'unknown': 'نەناسراو',
      'no_nutrition_plan': 'هیچ خطەی خۆراکی نییە',
      'coach_will_create_plan': 'هەڵبژێرەکەی خۆراکی خۆی هەڵدەستێت',
      'no_plans_found': 'هیچ خطەی خۆراکی لە پلاندا نییە',
      'insights': 'بینینەکان',
      'macros': 'ماکرۆکان',
      'prices': 'نرخەکان',
      'support_diagnostics': 'دۆزینەوەی پشتگیری',
      'currency': 'دراو',
      'key': 'کلیل',
      'cost_per_unit': 'تێچوون بۆ هەر یەکە',
      'export_pdf': 'دەرکردنی PDF',
      'undo': 'گەڕاندنەوە',
      'supplements': 'تەواوکەرەکان',
      'add_supplement': 'تەواوکەر زیاد بکە',
      'dosage': 'دۆزە',
      'save': 'پاشەکەوت',
      'delete': 'سڕینەوە',
      'edit': 'دەستکاری',
      'name': 'ناو',
      'notes': 'تێبینییەکان',
      'save_as_leftover': 'وەک ماوە پاشەکەوت بکە',
      'save_as_leftover_desc': 'بڕی ماوە بۆ کۆگا بگەڕێنرێت؟',
      'leftover_saved': 'ماوەکە لە کۆگادا پاشەکەوت کرا',
    },
  };

  static String t(String key, String lang) {
    final langMap = _translations[lang] ?? _translations['en']!;
    return langMap[key] ?? _translations['en']![key] ?? key;
  }

  static bool isRTL(String lang) {
    return lang == 'ar' || lang == 'ku';
  }

  static String normalizeNumber(String s) {
    // Convert Arabic-Indic digits to Western digits
    return s
        .replaceAll('٠', '0')
        .replaceAll('١', '1')
        .replaceAll('٢', '2')
        .replaceAll('٣', '3')
        .replaceAll('٤', '4')
        .replaceAll('٥', '5')
        .replaceAll('٦', '6')
        .replaceAll('٧', '7')
        .replaceAll('٨', '8')
        .replaceAll('٩', '9')
        // Also handle Persian digits
        .replaceAll('۰', '0')
        .replaceAll('۱', '1')
        .replaceAll('۲', '2')
        .replaceAll('۳', '3')
        .replaceAll('۴', '4')
        .replaceAll('۵', '5')
        .replaceAll('۶', '6')
        .replaceAll('۷', '7')
        .replaceAll('۸', '8')
        .replaceAll('۹', '9');
  }

  static String formatNumber(num value, {int decimalPlaces = 1}) {
    return value.toStringAsFixed(decimalPlaces);
  }

  static String getLanguageDisplayName(String lang) {
    switch (lang) {
      case 'en':
        return 'English';
      case 'ar':
        return 'العربية';
      case 'ku':
        return 'کوردی';
      default:
        return 'English';
    }
  }

  static List<String> getSupportedLanguages() {
    return ['en', 'ar', 'ku'];
  }
}
